<script>
    let score;
    let gameScore = 0;

    /*
    Helper function to randomly select an option for the computer
    */
    function computerPlay() {
        let selection = Math.floor(Math.random() * 3);
        if (selection == 0) {
            return "rock";
        } else if (selection == 1) {
            return "paper";
        } else if (selection == 2) {
            return "scissors";
        } else {
            return "error - computer can't select option";
        }
    }

    /*
    Helper function that takes in a player selection and computer selection and compares both to determine a round winner. 
    Score is also kept here to determine a round winner. -1 = player loses. 0 = tie. 1 = player wins.
    */
    function playRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase();
        computerSelection = computerSelection.toLowerCase();
        if (playerSelection == "rock" && computerSelection == "rock") {
            score = 0;
            return "Tie! You both picked rock!";
        } else if (playerSelection == "paper" && computerSelection == "rock") {
            score = 1;
            return "You Win! Paper beats rock!";
        } else if (playerSelection == "scissors" && computerSelection == "rock") {
            score = -1;
            return "You lose! Scissors lose to rock!";
        } else if (playerSelection == "rock" && computerSelection == "paper") {
            score = -1;
            return "You lose! Rock loses to paper!";
        } else if (playerSelection == "paper" && computerSelection == "paper") {
            score = 0;
            return "Tie! You both picked paper!";
        } else if (playerSelection == "scissors" && computerSelection == "paper") {
            score = 1;
            return "You win! Scissors beat paper!";
        } else if (playerSelection == "rock" && computerSelection == "scissors") {
            score = 1;
            return "You win! Rock beats scissors!";
        } else if (playerSelection == "paper" && computerSelection == "scissors") {
            score = -1;
            return "You lose! Paper loses to scissors!";
        } else if (playerSelection == "scissors" && computerSelection == "scissors") {
            score = 0;
            return "Tie! You both picked scissors!";
        }
    }

    /*
    Plays 5 rounds of the rock, paper, scissors game. Outputs the resuls of each round and keeps score of who wins
    */
    function game() {
        gameScore = 0;
        for (let i = 0; i < 5; i++) {
            let player = window.prompt("Rock, Paper, or Scissors?");
            let computer = computerPlay();
            console.log(playRound(player, computer));
            gameScore += score;
        }
        if (gameScore == 0) {
            return "Tie game!";
        } else if (gameScore > 0) {
            return "You win! You had a score of " + gameScore;
        } else {
            return "You lose! You had a score of " + gameScore;
        }
    }
</script>